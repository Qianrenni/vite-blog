## **3. 文件系统的功能**

### **3.1 文件存储与检索**

文件系统负责将文件数据存储到存储设备上，并提供高效的检索机制。为了实现这一点，文件系统通常采用以下策略：

- **连续分配**：将文件存储在连续的磁盘块中，便于顺序访问，但容易导致碎片化。
- **链式分配**：每个块包含指向下一个块的指针，灵活性高，但随机访问效率低。
- **索引分配**：使用索引节点（inode）记录文件的所有数据块位置，兼顾效率和灵活性。

### **3.2 文件命名与路径解析**

文件系统支持通过文件名访问文件，并允许用户使用路径（Path）指定文件的位置。路径可以是绝对路径（从根目录开始）或相对路径（从当前目录开始）。

### **3.3 权限管理**

文件系统通过权限控制保护文件的安全性。常见的权限包括：

- **读（Read）**：允许查看文件内容。
- **写（Write）**：允许修改文件内容。
- **执行（Execute）**：允许运行文件（如果是可执行文件）。

权限通常分为三类：用户（Owner）、组（Group）和其他用户（Others）。

### **3.4 日志与恢复**

现代文件系统通常支持日志功能，用于记录文件系统操作的历史。当日志功能启用时，文件系统在执行任何更改之前会先将其记录到日志中。如果系统崩溃，可以通过日志快速恢复文件系统的一致性。

### **3.5 磁盘空间管理**

文件系统需要有效地管理磁盘空间，避免浪费和碎片化。常用的技术包括：

- **位图（Bitmap）**：用每一位表示一个块的状态（空闲或已占用）。
- **空闲列表**：维护一个空闲块的列表。

---
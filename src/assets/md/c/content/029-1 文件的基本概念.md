## **1. 文件的基本概念**

### **1.1 文件的打开与关闭**

在 C 语言中，文件操作通过 `FILE` 类型的指针实现。文件必须先打开才能进行读写操作，完成后需要关闭。

#### **1. 打开文件**

- 使用 `fopen` 函数打开文件。
- **语法**：

  ```c
  FILE *fopen(const char *filename, const char *mode);
  ```

  - `filename`：文件名（可以包含路径）。
  - `mode`：打开模式（如 `"r"`, `"w"`, `"a"` 等）。
  - 返回值：成功返回文件指针，失败返回 `NULL`。

- 示例：

  ```c
  FILE *file = fopen("example.txt", "r");
  if (file == NULL) {
      printf("Error: Could not open file.\n");
      return -1;
  }
  ```

#### **2. 关闭文件**

- 使用 `fclose` 函数关闭文件。
- **语法**：

  ```c
  int fclose(FILE *stream);
  ```

  - 成功返回 `0`，失败返回 `EOF`。

- 示例：

  ```c
  fclose(file);
  ```

---

### **1.2 文件的读写模式**

文件的打开模式决定了对文件的操作权限和行为。

| 模式 | 描述                                                         |
|------|--------------------------------------------------------------|
| `r`  | 只读模式。如果文件不存在，则打开失败。                       |
| `w`  | 写入模式。如果文件存在，则清空内容；如果文件不存在，则创建。 |
| `a`  | 追加模式。如果文件存在，则在末尾追加；如果文件不存在，则创建。|
| `rb` | 以二进制方式只读打开文件。                                   |
| `wb` | 以二进制方式写入文件。                                       |
| `ab` | 以二进制方式追加文件。                                       |
| `r+` | 读写模式。如果文件不存在，则打开失败。                       |
| `w+` | 读写模式。如果文件存在，则清空内容；如果文件不存在，则创建。 |
| `a+` | 读写模式。如果文件存在，则在末尾追加；如果文件不存在，则创建。|

---
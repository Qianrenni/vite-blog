# 🔥 二、缓存击穿（Cache Breakdown）

## 📌 定义：
某个热点 key 突然失效（比如过期或被删除），此时有大量并发请求同时访问这个 key，所有请求都穿透到数据库。

> 和缓存穿透不同的是：缓存击穿中该 key 是存在的，只是暂时失效了。

## 🧨 危害：
短时间内大量请求直接冲击数据库，可能导致数据库负载过高。

## ✅ 解决方案：

1. **互斥锁（Mutex Lock / Redis 分布式锁）**
   - 只让一个线程去加载数据，其他线程等待。
   - 比如使用 `SETNX` 或 Redlock 实现分布式锁。

2. **逻辑过期时间**
   - 缓存永不过期，但在 value 中保存一个逻辑过期时间。
   - 查询时如果发现已“逻辑过期”，异步更新缓存。

3. **热点 key 永不过期**
   - 针对特别热点的数据，设置不自动过期，通过后台任务定期刷新。

---
## **SQL注入及其防范**

**SQL注入**是一种代码注入技术，攻击者通过将恶意的SQL语句插入到查询字符串中，从而执行非授权的SQL命令。这可能导致数据泄露、数据丢失或系统被完全控制等严重后果。

- **防范措施**:
  - **使用参数化查询**: 不要直接拼接用户输入到SQL查询中，而是使用占位符并传递参数。

    ```sql
    -- 不安全的方式
    SELECT * FROM users WHERE username = 'admin' --'; DROP TABLE users; --
    
    -- 安全的方式（以Python为例）
    cursor.execute("SELECT * FROM users WHERE username = %s", (username,))
    ```

  - **存储过程和函数**: 使用存储过程可以减少SQL注入的风险，因为它们限制了可以直接执行的SQL语句。
  - **最小权限原则**: 对数据库用户的权限进行严格控制，确保应用程序仅能访问必要的资源。
  - **输入验证**: 验证所有来自外部的数据，确保其符合预期格式。

---
## **基本语法**

C++ 的基本语法是学习这门语言的基础。它包括程序的结构、数据类型、变量与常量、输入输出等内容。以下将对这些内容进行详细讲解。

---

### **1. 程序结构：`main()` 函数、注释、头文件**

#### **1.1 `main()` 函数**

`main()` 是 C++ 程序的入口点，所有的 C++ 程序都从 `main()` 函数开始执行。`main()` 函数的返回值和参数有以下两种常见形式：

- **无参数版本**：

  ```cpp
  int main() {
      // 程序代码
      return 0;
  }
  ```

  - 返回值为 `int` 类型，通常返回 `0` 表示程序成功执行。
  
- **带参数版本**（用于命令行参数）：

  ```cpp
  int main(int argc, char* argv[]) {
      // argc: 参数个数
      // argv: 参数数组
      return 0;
  }
  ```

  - `argc` 表示命令行参数的数量，`argv` 是一个字符串数组，存储了每个参数的内容。

#### **1.2 注释**

C++ 提供了两种注释方式，用于解释代码或临时禁用某段代码：

- **单行注释**：使用 `//` 开头，注释内容写在同一行。

  ```cpp
  // 这是一个单行注释
  int x = 10; // 这也是注释
  ```

- **多行注释**：使用 `/*` 和 `*/` 包裹注释内容，可以跨越多行。

  ```cpp
  /* 
   * 这是一个多行注释
   * 可以跨越多行书写
   */
  ```

#### **1.3 头文件**

头文件包含了函数声明、类定义和其他必要的信息，通常以 `.h` 或 `.hpp` 结尾。C++ 中常见的头文件包括：

- **标准库头文件**：如 `<iostream>`, `<vector>`, `<string>` 等。
- **自定义头文件**：用户自己编写的头文件，使用 `#include "filename.h"` 引入。

例如：

```cpp
#include <iostream> // 标准输入输出库
#include "myheader.h" // 自定义头文件
```

---

### **2. 数据类型**

#### **2.1 基本数据类型**

C++ 提供了几种基本数据类型，用于存储不同类型的数据：

- **整数类型**：
  - `int`：用于存储整数，默认大小为 4 字节（32 位系统上）。
  - 示例：`int x = 10;`
  
- **浮点数类型**：
  - `float`：单精度浮点数，通常占用 4 字节。
  - `double`：双精度浮点数，通常占用 8 字节。
  - 示例：`float pi = 3.14f; double d = 2.718;`
  
- **字符类型**：
  - `char`：用于存储单个字符，通常占用 1 字节。
  - 示例：`char c = 'A';`
  
- **布尔类型**：
  - `bool`：用于存储逻辑值，只有两个可能的值：`true` 或 `false`。
  - 示例：`bool flag = true;`

#### **2.2 类型修饰符**

类型修饰符用于改变基本数据类型的特性，主要包括以下几种：

- **`signed` 和 `unsigned`**：
  - `signed`：表示有符号数（默认），可以存储正数和负数。
  - `unsigned`：表示无符号数，只能存储非负数。
  - 示例：`unsigned int x = 255; signed int y = -10;`
  
- **`short` 和 `long`**：
  - `short`：短整型，通常占用 2 字节。
  - `long`：长整型，通常占用 4 或 8 字节。
  - 示例：`short s = 32767; long l = 123456789;`

#### **2.3 枚举类型（`enum`）**

枚举类型是一种用户定义的数据类型，用于定义一组命名的整数常量。

- **定义枚举类型**：

  ```cpp
  enum Color { RED, GREEN, BLUE };
  ```

  - 默认情况下，`RED` 的值为 0，`GREEN` 为 1，`BLUE` 为 2。
  
- **指定枚举值**：

  ```cpp
  enum Color { RED = 1, GREEN = 2, BLUE = 3 };
  ```

- **使用枚举类型**：

  ```cpp
  Color c = GREEN;
  if (c == GREEN) {
      std::cout << "The color is green." << std::endl;
  }
  ```

---

### **3. 变量与常量**

#### **3.1 定义与初始化**

- **定义变量**：在 C++ 中，变量必须先定义后使用。

  ```cpp
  int x;        // 定义一个整数变量
  float f = 3.14; // 定义并初始化一个浮点数
  ```

- **自动类型推导（`auto`）**：
  使用 `auto` 关键字可以让编译器自动推导变量的类型。

  ```cpp
  auto a = 10;    // 编译器推导为 int
  auto b = 3.14;  // 编译器推导为 double
  ```

#### **3.2 常量**

- **`const`**：用于定义不可修改的常量。

  ```cpp
  const int MAX_VALUE = 100;
  // MAX_VALUE = 200; // 错误：不能修改 const 常量
  ```

- **`constexpr`**：用于定义编译时常量。

  ```cpp
  constexpr double PI = 3.14159;
  ```

---

### **4. 输入输出**

#### **4.1 `cin` 和 `cout`**

C++ 使用 `cin` 和 `cout` 分别进行输入和输出操作，它们属于 `<iostream>` 头文件。

- **输出**：

  ```cpp
  #include <iostream>
  using namespace std;

  int main() {
      cout << "Hello, World!" << endl; // 输出字符串
      int x = 10;
      cout << "x = " << x << endl;    // 输出变量
      return 0;
  }
  ```

- **输入**：

  ```cpp
  int age;
  cout << "Enter your age: ";
  cin >> age; // 从键盘读取输入
  cout << "Your age is: " << age << endl;
  ```

#### **4.2 格式化输入输出（`iomanip`）**

`<iomanip>` 头文件提供了多种格式化输入输出的功能。

- **设置宽度**：

  ```cpp
  #include <iomanip>
  cout << setw(10) << "Hello" << endl; // 设置输出宽度为 10
  ```

- **设置精度**：

  ```cpp
  double pi = 3.14159;
  cout << setprecision(4) << pi << endl; // 输出保留 4 位小数
  ```

- **设置进制**：

  ```cpp
  int num = 255;
  cout << hex << num << endl; // 输出十六进制
  cout << oct << num << endl; // 输出八进制
  ```

---

### **总结**

C++ 的基本语法涵盖了程序的结构、数据类型、变量与常量、输入输出等核心概念。掌握这些基础知识是进一步学习 C++ 高级特性的前提。以下是关键点回顾：

1. **程序结构**：`main()` 是程序的入口点，注释用于解释代码，头文件包含必要的声明。
2. **数据类型**：C++ 提供了丰富的数据类型，包括整数、浮点数、字符、布尔等，并支持类型修饰符和枚举类型。
3. **变量与常量**：变量需要定义和初始化，`const` 和 `constexpr` 用于定义不可变的常量。
4. **输入输出**：`cin` 和 `cout` 是标准输入输出工具，`iomanip` 提供了格式化功能。

通过熟练掌握这些基础内容，你将能够编写简单的 C++ 程序，并为进一步学习复杂特性打下坚实的基础。

1. **运算符**
   - 算术运算符、关系运算符、逻辑运算符
   - 位运算符（`&`, `|`, `^`, `~`, `<<`, `>>`）
   - 赋值运算符与复合赋值运算符
   - 条件运算符（三元运算符）

2. **控制结构**
   - 条件语句：`if`, `else if`, `switch`
   - 循环语句：`for`, `while`, `do-while`
   - 跳转语句：`break`, `continue`, `goto`, `return`

3. **数组与字符串**
   - 数组定义与访问
   - 多维数组
   - 字符数组与字符串（C 风格字符串 vs `std::string`）

---
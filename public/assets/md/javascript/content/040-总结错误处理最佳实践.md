## 总结：错误处理最佳实践

| 实践 | 说明 |
|------|------|
| ✅ 使用 `try...catch` 处理可预期的同步错误 | 如 JSON 解析、用户输入验证 |
| ✅ `async/await` 配合 `try...catch` | 处理异步错误最清晰的方式 |
| ✅ 创建自定义错误类 | 提高错误语义化和可维护性 |
| ✅ 使用 `finally` 进行资源清理 | 如关闭连接、取消 loading |
| ✅ 捕获未处理的 Promise 错误 | 避免静默失败 |
| ✅ 全局错误监听用于日志上报 | 但不要阻止所有错误 |
| ❌ 避免空 `catch` 块 | 至少要记录日志 |
| ❌ 不要忽略 `unhandledRejection` | 会导致内存泄漏或逻辑错误 |
| 📊 生产环境格式化并上报错误 | 结合 Sentry、LogRocket 等工具 |

---
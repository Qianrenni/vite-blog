## 10.1 现代语法特性

### 解构赋值语法

解构赋值是一种从数组或对象中提取值并赋给变量的语法。

#### 数组解构
```javascript
// 基本用法
const [a, b, c] = [1, 2, 3];
console.log(a, b, c); // 1 2 3

// 跳过某些元素
const [first, , third] = [1, 2, 3, 4];
console.log(first, third); // 1 3

// 默认值
const [x = 10, y = 20] = [5];
console.log(x, y); // 5 20

// 嵌套数组解构
const [head, ...tail] = [1, 2, 3, 4];
console.log(head, tail); // 1 [2, 3, 4]

// 交换变量
let x = 1, y = 2;
[x, y] = [y, x];
console.log(x, y); // 2 1
```

#### 对象解构
```javascript
// 基本用法
const person = { name: 'Alice', age: 25, city: 'Beijing' };
const { name, age } = person;
console.log(name, age); // Alice 25

// 重命名变量
const { name: fullName, age: years } = person;
console.log(fullName, years); // Alice 25

// 默认值
const { name, gender = 'unknown' } = person;
console.log(gender); // unknown

// 嵌套对象解构
const user = {
  name: 'Bob',
  address: {
    street: 'Main St',
    city: 'Shanghai'
  }
};
const { address: { city } } = user;
console.log(city); // Shanghai

// 函数参数解构
function printUser({ name, age, city = 'Unknown' }) {
  console.log(`${name}, ${age}, ${city}`);
}
printUser(person); // Alice, 25, Beijing
```

### 模板字符串扩展

模板字符串使用反引号(``)包围，支持多行字符串和表达式插值。

```javascript
// 基本语法
const name = 'Alice';
const greeting = `Hello, ${name}!`;
console.log(greeting); // Hello, Alice!

// 多行字符串
const multiline = `
  这是第一行
  这是第二行
  这是第三行
`;

// 表达式插值
const a = 5, b = 10;
console.log(`a + b = ${a + b}`); // a + b = 15

// 嵌套模板字符串
const classes = 'header';
const className = `item ${classes ? `class-${classes}` : ''}`;
console.log(className); // item class-header

// 带标签的模板字符串
function highlight(strings, ...values) {
  let result = '';
  strings.forEach((string, i) => {
    result += string + (values[i] ? `<mark>${values[i]}</mark>` : '');
  });
  return result;
}

const name = 'Alice';
const age = 25;
const message = highlight`Hello, ${name}! You are ${age} years old.`;
console.log(message); // Hello, <mark>Alice</mark>! You are <mark>25</mark> years old.
```

### 展开运算符应用

展开运算符(...)可以展开数组、对象或可迭代对象。

```javascript
// 数组展开
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];
const combined = [...arr1, ...arr2];
console.log(combined); // [1, 2, 3, 4, 5, 6]

// 复制数组
const original = [1, 2, 3];
const copy = [...original];
console.log(copy); // [1, 2, 3]

// 字符串展开
const str = 'hello';
const chars = [...str];
console.log(chars); // ['h', 'e', 'l', 'l', 'o']

// 对象展开
const obj1 = { a: 1, b: 2 };
const obj2 = { c: 3, d: 4 };
const merged = { ...obj1, ...obj2 };
console.log(merged); // { a: 1, b: 2, c: 3, d: 4 }

// 浅拷贝对象
const originalObj = { name: 'Alice', hobbies: ['reading', 'coding'] };
const copyObj = { ...originalObj };
console.log(copyObj); // { name: 'Alice', hobbies: ['reading', 'coding'] }

// 函数调用时展开参数
const numbers = [1, 2, 3, 4, 5];
console.log(Math.max(...numbers)); // 5

// 函数定义时收集参数（剩余参数）
function sum(...numbers) {
  return numbers.reduce((total, num) => total + num, 0);
}
console.log(sum(1, 2, 3, 4, 5)); // 15
```

### 默认参数和剩余参数

```javascript
// 默认参数
function greet(name = 'Guest', greeting = 'Hello') {
  return `${greeting}, ${name}!`;
}
console.log(greet()); // Hello, Guest!
console.log(greet('Alice')); // Hello, Alice!
console.log(greet('Bob', 'Hi')); // Hi, Bob!

// 默认参数可以是表达式
function add(x, y = x * 2) {
  return x + y;
}
console.log(add(5)); // 15

// 剩余参数
function multiply(multiplier, ...numbers) {
  return numbers.map(number => multiplier * number);
}
console.log(multiply(2, 1, 2, 3)); // [2, 4, 6]

// 结合解构使用
function createUser({ name = 'Anonymous', age = 0, ...otherProps } = {}) {
  return {
    name,
    age,
    ...otherProps
  };
}
console.log(createUser({ name: 'Alice', city: 'Beijing' }));
// { name: 'Alice', age: 0, city: 'Beijing' }
```
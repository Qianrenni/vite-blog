## ğŸ“„ è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…
```

## 7. ç‰ˆæœ¬å…¼å®¹æ€§

### TypeScript ç‰ˆæœ¬ç®¡ç†

```json
// package.json
{
  "engines": {
    "node": ">=16.0.0",
    "npm": ">=8.0.0"
  },
  "dependencies": {
    "typescript": "^5.0.0"
  },
  "devDependencies": {
    "@types/node": "^18.0.0",
    "@types/react": "^18.0.0",
    "@types/jest": "^29.0.0"
  }
}
```

### æµè§ˆå™¨å…¼å®¹æ€§é…ç½®

```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2020", // æ ¹æ®ç›®æ ‡æµè§ˆå™¨é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ES2020",
    "moduleResolution": "node"
  }
}
```

### Polyfill ç®¡ç†

```typescript
// src/polyfills.ts
// æ ¹æ®éœ€è¦å¯¼å…¥ polyfill
import 'core-js/es/array/includes';
import 'core-js/es/object/assign';
import 'core-js/es/promise';
import 'whatwg-fetch';

// æ¡ä»¶å¯¼å…¥ polyfill
if (!window.Intl) {
  import('intl').then(() => {
    // Intl å·²åŠ è½½
  });
}

// è‡ªå®šä¹‰ polyfill
if (!Array.prototype.flat) {
  Array.prototype.flat = function(depth = 1) {
    return this.reduce(function (flat: any[], toFlatten: any[]) {
      return flat.concat((Array.isArray(toFlatten) && (depth > 1)) ? toFlatten.flat(depth - 1) : toFlatten);
    }, []);
  };
}
```

### å‘åå…¼å®¹æ€§æ£€æŸ¥

```typescript
// src/compatibility/utils.ts
export function isModernBrowser(): boolean {
  return 'serviceWorker' in navigator &&
         'fetch' in window &&
         'Promise' in window &&
         'Map' in window &&
         'Set' in window;
}

export function checkFeatureSupport(): {
  webAssembly: boolean;
  serviceWorker: boolean;
  pushNotifications: boolean;
  offlineSupport: boolean;
} {
  return {
    webAssembly: typeof WebAssembly !== 'undefined',
    serviceWorker: 'serviceWorker' in navigator,
    pushNotifications: 'PushManager' in window,
    offlineSupport: 'caches' in window
  };
}

// ä½¿ç”¨ç¤ºä¾‹
const support = checkFeatureSupport();
if (!support.webAssembly) {
  console.warn('WebAssembly not supported, using fallback implementation');
}
```

### æ¸è¿›å¼å¢å¼º

```typescript
// src/progressive-enhancement.ts
export class ProgressiveEnhancement {
  static async loadModernFeatures() {
    // åŠ¨æ€å¯¼å…¥ç°ä»£åŠŸèƒ½
    if ('IntersectionObserver' in window) {
      const { LazyLoad } = await import('./features/lazy-load');
      LazyLoad.init();
    }
    
    if ('serviceWorker' in navigator) {
      const { ServiceWorkerManager } = await import('./features/service-worker');
      ServiceWorkerManager.register();
    }
    
    // ç‰¹æ€§æ£€æµ‹
    if (window.CSS && CSS.supports('display', 'grid')) {
      const { GridLayout } = await import('./features/grid-layout');
      GridLayout.enable();
    } else {
      const { FlexLayout } = await import('./features/flex-layout');
      FlexLayout.enable();
    }
  }
}

// åœ¨åº”ç”¨å¯åŠ¨æ—¶è°ƒç”¨
ProgressiveEnhancement.loadModernFeatures();
```
### 二、进程间通信（IPC）机制

浏览器各进程运行在**独立的内存空间**中，彼此不能直接访问对方内存，因此依赖**进程间通信（IPC）** 机制：

1. **基于消息传递的 IPC**
   - 浏览器内部使用自定义 IPC 框架（如 Chromium 的 `mojo` 或旧版 `Chrome IPC`）。
   - 通信双方通过定义好的接口发送/接收结构化消息（通常是序列化的 protobuf 或类似格式）。
   - 示例：
     - 渲染进程 → 浏览器进程：请求加载新 URL。
     - 浏览器进程 → 渲染进程：发送用户输入事件（如点击、键盘）。
     - 渲染进程 ↔ GPU 进程：提交绘图命令。

2. **共享内存（Shared Memory）**
   - 用于高性能数据传输（如位图、视频帧）。
   - 例如：渲染进程将绘制结果写入共享内存，GPU 进程读取并合成。

3. **命名管道 / 套接字（底层实现）**
   - 在不同操作系统上，IPC 底层可能使用：
     - Windows：命名管道（Named Pipes）或 ALPC。
     - Linux/macOS：Unix Domain Socket 或 Mach Ports（macOS）。

4. **沙箱与安全限制**
   - 渲染进程通常运行在沙箱中，**不能直接发起网络请求或访问文件系统**。
   - 所有敏感操作必须通过 IPC 请求浏览器主进程或网络进程代理完成。

---
### 七、总结

- JS 是单线程，靠**事件循环**实现异步。
- **宏任务**：每次执行一个。
- **微任务**：在每个宏任务后**全部执行完**。
- 执行顺序：  
  **同步代码 → 微任务 → 宏任务 → 微任务 → 宏任务 → ...**
- 浏览器和 Node.js 的事件循环细节略有不同，尤其在 `setImmediate` 和 `process.nextTick` 上。

---
### 3. **任务类型与执行顺序**
| 任务类型 | 浏览器 | Node.js |
|--------|--------|--------|
| **宏任务（Macrotask）** | `setTimeout`, `setInterval`, UI 事件, 网络请求等 | `setTimeout`, `setInterval`, I/O 回调, `setImmediate` |
| **微任务（Microtask）** | `Promise.then/catch`, `queueMicrotask`, `MutationObserver` | `Promise.then/catch`, **`process.nextTick()`（优先级更高）** |

> ✅ **共同点**：每次执行一个宏任务后，会**清空整个微任务队列**。  
> ⚠️ **Node.js 特有**：`process.nextTick()` 在微任务中**优先于 Promise**执行。

---